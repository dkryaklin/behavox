<div>
  <div class="row" *ngFor="let row of handledMessage">
    <span class="{{spanRow.class}}" *ngFor="let spanRow of row">{{spanRow.text}}</span>
  </div>
  <mat-expansion-panel
    [expanded]="expanded"
    (opened)="expanded = true"
    (closed)="expanded = false"
    *ngIf="messages[messageDeepIndex + 1]"
  >
    <mat-expansion-panel-header>
      <mat-panel-title>
          {{ messages[messageDeepIndex + 1].title }}
      </mat-panel-title>
    </mat-expansion-panel-header>
    <app-message [messages]="messages" [filter]="filter" [messageDeepIndex]="messageDeepIndex + 1"></app-message>
  </mat-expansion-panel>
</div>
